<!DOCTYPE html>
<html>
  <head>
    <title>Log directly to Logstash from Payara</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    
    <link rel="apple-touch-icon" sizes="57x57" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-57x57.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="apple-touch-icon" sizes="60x60" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-60x60.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="apple-touch-icon" sizes="72x72" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-72x72.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="apple-touch-icon" sizes="76x76" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-76x76.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="apple-touch-icon" sizes="114x114" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-114x114.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="apple-touch-icon" sizes="120x120" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-120x120.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="apple-touch-icon" sizes="144x144" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-144x144.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="apple-touch-icon" sizes="152x152" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-152x152.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="apple-touch-icon" sizes="180x180" href="//pdudits.github.io/themes/uno-zen/assets/img/apple-touch-icon-180x180.png?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="icon" type="image/png" href="//pdudits.github.io/themes/uno-zen/assets/img/favicon-32x32.png?v=wAAv6Wqe6l?v=1512054664164" sizes="32x32">
    <link rel="icon" type="image/png" href="//pdudits.github.io/themes/uno-zen/assets/img/favicon-194x194.png?v=wAAv6Wqe6l?v=1512054664164" sizes="194x194">
    <link rel="icon" type="image/png" href="//pdudits.github.io/themes/uno-zen/assets/img/favicon-96x96.png?v=wAAv6Wqe6l?v=1512054664164" sizes="96x96">
    <link rel="icon" type="image/png" href="//pdudits.github.io/themes/uno-zen/assets/img/android-chrome-192x192.png?v=wAAv6Wqe6l?v=1512054664164" sizes="192x192">
    <link rel="icon" type="image/png" href="//pdudits.github.io/themes/uno-zen/assets/img/favicon-16x16.png?v=wAAv6Wqe6l?v=1512054664164" sizes="16x16">
    <link rel="manifest" href="//pdudits.github.io/themes/uno-zen/assets/img/manifest.json?v=wAAv6Wqe6l?v=1512054664164">
    <link rel="shortcut icon" href="//pdudits.github.io/themes/uno-zen/assets/img/favicon.ico?v=wAAv6Wqe6l?v=1512054664164">
    <meta name="msapplication-TileColor" content="#e74c3c">
    <meta name="msapplication-TileImage" content="//pdudits.github.io/themes/uno-zen/assets/img/mstile-144x144.png?v=wAAv6Wqe6l?v=1512054664164">
    <meta name="msapplication-config" content="//pdudits.github.io/themes/uno-zen/assets/img/browserconfig.xml?v=wAAv6Wqe6l?v=1512054664164">
    <meta name="theme-color" content="#e74c3c">
    <link rel="stylesheet" type="text/css" href="//pdudits.github.io/themes/uno-zen/assets/css/uno-zen.css?v=1512054664164" />
    <link rel="canonical" href="https://pdudits.github.io/2017/11/30/Log-directly-to-Logstash-from-Payara.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="Not obvious " />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Log directly to Logstash from Payara" />
    <meta property="og:description" content="Also published on Payara blog When running multiple instances of an application server it is quite hard to see correlations between events. One of the best tools to enable that is the ELK stack - Elasticsearch for building fulltext index of the log entries, Logstash for managing the inflow the" />
    <meta property="og:url" content="https://pdudits.github.io/2017/11/30/Log-directly-to-Logstash-from-Payara.html" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Log directly to Logstash from Payara" />
    <meta name="twitter:description" content="Also published on Payara blog When running multiple instances of an application server it is quite hard to see correlations between events. One of the best tools to enable that is the ELK stack - Elasticsearch for building fulltext index of the log entries, Logstash for managing the inflow the" />
    <meta name="twitter:url" content="https://pdudits.github.io/2017/11/30/Log-directly-to-Logstash-from-Payara.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Not obvious ",
    "author": {
        "@type": "Person",
        "name": "Patrik Duditš",
        "image": "https://avatars3.githubusercontent.com/u/1588543?v=4",
        "url": "https://pdudits.github.io/author/pdudits/"
    },
    "headline": "Log directly to Logstash from Payara",
    "url": "https://pdudits.github.io/2017/11/30/Log-directly-to-Logstash-from-Payara.html",
    "description": "Also published on Payara blog When running multiple instances of an application server it is quite hard to see correlations between events. One of the best tools to enable that is the ELK stack - Elasticsearch for building fulltext index of the log entries, Logstash for managing the inflow the"
}
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="Not obvious " href="https://pdudits.github.io/rss/" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/atom-one-dark.min.css">
    
        <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </head>
  <body class="post-template">
    <header id="menu-button" class="expanded">
      <a><i class="icon icon-list"></i></a>
    </header>
    <aside class="cover" style="background: url(https://cloud.githubusercontent.com/assets/1588543/21372338/c07f1c2e-c716-11e6-8daa-aa3b35a2d2cf.jpg) center/cover no-repeat fixed">
      <div class="cover container">
        <div class="profile">
          <a id="avatar-link" title="link to homepage for Not obvious " href="https://pdudits.github.io/#open">
            <img src="https://twitter.com/pdudits/profile_image?size&#x3D;bigger" alt="Not obvious  avatar" class="profile avatar rounded hvr-buzz-out" />
            <h1 id="profile-title">Not obvious </h1>
            <h3 id="profile-resume"></h3>
          </a>
    
          <hr class="divider long" />
          <p>Notes about programming tasks that took too long. By Patrik Duditš. </p>
          <hr class="divider short" />
          <div class="navigation">
            <div class="profile contact">
              
              <nav class="navigation right">
                <ul class="social expanded">
              
                  <!-- Twitter -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://facebook.com/patrik.dudits" title="Facebook account">
                      <i class='icon icon-social-facebook'></i>
                      <span class="label">Facebook</span>
                    </a>
                  </li>
              
                  <!-- Twitter -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://twitter.com/pdudits" title="Twitter account">
                      <i class='icon icon-social-twitter'></i>
                      <span class="label">Twitter</span>
                    </a>
                  </li>
              
              
                  <!-- Github -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://github.com/pdudits" title="Github account">
                      <i class='icon icon-social-github'></i>
                      <span class="label">Github</span>
                    </a>
                  </li>
                  </li>
              
              
              
                  <!-- Github -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://flickr.com/pdudits" title="Flickr account">
                      <i class='icon icon-social-flickr'></i>
                      <span class="label">Flickr</span>
                    </a>
                  </li>
                  </li>
              
              
              
                </ul>
              </nav>
              <!-- <section class="icon icon-search" id="search-container">
      <hr class="divider short" />
      <form id="search-form">
        <input type="text", name="search", placeholder="git, css, javascript,..." id="search-field" />
      </form>
    </section>
     -->
            </div>
          </div>
        </div>
      </div>
    </aside>
    <main>
      <section id="search-results"></section>
      <section class="content">
        

  <article class="post">
    <header>
      <div class="post meta">
        <time datetime="30 Nov 2017">30 Nov 2017</time>
        <span class="post tags"></span>


        <span class="post reading-time"> ~ <span></span> read.</span>
      </div>
      <a alt="Tweet 'Log directly to Logstash from Payara'" href="https://twitter.com/intent/tweet?text=Log%20directly%20to%20Logstash%20from%20Payara%20%C2%BB&amp;hashtags=&amp;url=https://pdudits.github.io/2017/11/30/Log-directly-to-Logstash-from-Payara.html">
        
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">Log directly to Logstash from Payara</h1>
      </a>
    </header>

    <div id="post-content" class="post">
      <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Also published on <a href="http://blog.payara.fish/log-directly-to-logstash-from-payara-server">Payara blog</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When running multiple instances of an application server it is quite hard to see correlations between events.
One of the best tools to enable that is <a href="https://www.elastic.co/products">the ELK stack</a> - Elasticsearch for building fulltext index of the log entries, Logstash for managing the inflow the events, and Kibana as a user interface on top of that.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.payara.fish/documentation/core-documentation/logging/payara/json-formatter.html">Solutions for Payara Server exist</a>, that use better parseable log format]which can be then processed by <a href="https://www.elastic.co/products/beats/filebeat">Logstash Filebeat</a> in order to have these log entries processed by a remote Logstash server.</p>
</div>
<div class="paragraph">
<p>In our project, we chose a different path&#8201;&#8212;&#8201;we replaced all logging in the server and our applications with Logback, and make use of the  <a href="https://github.com/logstash/logstash-logback-encoder"><code>logback-logstash-appender</code></a> to push the events directly to Logstash over a TCP socket.
The appender uses LMAX disruptor internally to push the logs, so the processes does not block the application flow.</p>
</div>
<div class="paragraph">
<p>This article will show you how to have this configured for your project as well.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_log_everything_via_logstash">Log everything via Logstash</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In first step, we replace the backend for Payara Server&#8217;s logging with logstash.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/goodees/goodees">Project goodees</a> was started by me to collect useful small components for Java EE, and Payara Server in particular.
The first released component is <a href="https://github.com/goodees/goodees/tree/master/payara-logback">payara-logback</a>, that includes all libraries properly packaged to use logback as the logging backend in Payara Server and also includes an installation script.</p>
</div>
<div class="paragraph">
<p>Follow <a href="https://github.com/goodees/goodees/blob/master/payara-logback/README.adoc">the instructions there</a> to switch your logging.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logback_and_logstash_configuration">Logback and logstash configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Our logback configuration looks similar to following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;configuration scan="true"&gt;
    &lt;jmxConfigurator /&gt;
    &lt;shutdownHook/&gt;
    &lt;!-- propagate changes to java.util.logging --&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;contextListener class="ch.qos.logback.classic.jul.LevelChangePropagator"&gt;
        &lt;resetJUL&gt;true&lt;/resetJUL&gt;
    &lt;/contextListener&gt;

    &lt;appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;
        <i class="conum" data-value="2"></i><b>(2)</b>
        &lt;file&gt;${LOG_DIR}/glassfish/${instanceName}/${instanceName}.log&lt;/file&gt;
        &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt;
            &lt;!-- daily rollover --&gt;
            &lt;fileNamePattern&gt;${LOG_DIR}/glassfish/${instanceName}/${instanceName}.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;
            &lt;timeBasedFileNamingAndTriggeringPolicy
                class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt;
                &lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;
            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;
            &lt;maxHistory&gt;60&lt;/maxHistory&gt;
        &lt;/rollingPolicy&gt;

        &lt;encoder&gt;
            &lt;pattern&gt;[%d{ISO8601}] [%t] [%4p] [%logger]: %m%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;

  &lt;appender name="json" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;<i class="conum" data-value="3"></i><b>(3)</b>
    &lt;file&gt;${LOG_DIR}/glassfish/${isntanceName}/json/${isntanceName}.json&lt;/file&gt;
    &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt;
      &lt;fileNamePattern&gt;${LOG_DIR}/glassfish/${instanceName}/json/${instanceName}.%d{yyyy-MM-dd}.json.zip&lt;/fileNamePattern&gt;
      &lt;maxHistory&gt;120&lt;/maxHistory&gt;
    &lt;/rollingPolicy&gt;
    &lt;encoder class="net.logstash.logback.encoder.LogstashEncoder"&gt;
      &lt;customFields&gt;{"instance":"${instanceName}","type":"glassfish"}&lt;/customFields&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;

  &lt;appender name="logstash-socket" class="net.logstash.logback.appender.LogstashTcpSocketAppender"&gt;
    &lt;destination&gt;${LOGSTASH_DEST}&lt;/destination&gt;<i class="conum" data-value="4"></i><b>(4)</b>
    &lt;secondaryConnectionTTL&gt;5 minutes&lt;/secondaryConnectionTTL&gt;
    &lt;encoder class="net.logstash.logback.encoder.LogstashEncoder"&gt;
      &lt;customFields&gt;{"instance":"${instanceName}","type":"glassfish"}&lt;/customFields&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;

    &lt;root&gt;
        &lt;level value="INFO" /&gt;
        &lt;appender-ref ref="FILE" /&gt;
        &lt;appender-ref ref="json"/&gt;
        &lt;appender-ref ref="logstash-socket"/&gt;
    &lt;/root&gt;
&lt;/configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following points should be noted:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Propagation between <code>slf4j and `java.util.logging</code> is needed</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We put the logging directory outside of the domain directory, and controlled by an environment variable. <code>instanceName</code> is a JVM argument, that is unique for every instance in our system.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We keep the JSON formatted logs on disk with greater retention period than our Elasticsearch does. If we need to, we can re-upload those to analyze past events.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Mutliple destinations in form of <code>host:port[,host:port]</code> can be defined for the Logstash socket appender. We keep them in an environment variable.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We have similar configuration for <code>logback-access.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;configuration scan="true"&gt;
  &lt;jmxConfigurator/&gt;
  &lt;shutdownHook/&gt;
  &lt;!-- always a good activate OnConsoleStatusListener --&gt;
  &lt;statusListener class="ch.qos.logback.core.status.OnErrorConsoleStatusListener" /&gt;

  &lt;appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;
    &lt;file&gt;${LOG_DIR}/glassfish/${instanceName}/${instanceName}.access.log&lt;/file&gt;
    &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt;
      &lt;fileNamePattern&gt;${LOG_DIR}/glassfish/${instanceName}/${instanceName}.access.%d{yyyy-MM-dd}.log.zip&lt;/fileNamePattern&gt;
      &lt;maxHistory&gt;90&lt;/maxHistory&gt;
    &lt;/rollingPolicy&gt;

    &lt;encoder&gt;
      &lt;pattern&gt;combined&lt;/pattern&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;
  &lt;appender-ref ref="FILE" /&gt;

  &lt;appender name="json" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;
    &lt;file&gt;${LOG_DIR}/glassfish/${instanceName}/json/${instanceName}.access.json&lt;/file&gt;
    &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt;
      &lt;fileNamePattern&gt;${LOG_DIR}/glassfish/${instanceName}/json/${instanceName}.access.%d{yyyy-MM-dd}.json.zip&lt;/fileNamePattern&gt;
      &lt;maxHistory&gt;10&lt;/maxHistory&gt;
    &lt;/rollingPolicy&gt;
    &lt;encoder class="net.logstash.logback.encoder.AccessEventCompositeJsonEncoder"&gt;
      &lt;providers&gt;
         &lt;timestamp/&gt;
         &lt;version/&gt;
         &lt;method/&gt;
         &lt;protocol/&gt;
         &lt;statusCode/&gt;
         &lt;requestedUri/&gt;
         &lt;remoteHost/&gt;
         &lt;hostname/&gt;
         &lt;remoteUser/&gt;
         &lt;contentLength/&gt;
         &lt;elapsedTime/&gt;
         &lt;context/&gt;
         &lt;pattern&gt;&lt;pattern&gt;
           {"instance": "${instanceName}",
            "forwarded_for": "%header{X-Forwarded-For}",
            "server_name": "%v",
            "type": "access"}
         &lt;/pattern&gt;&lt;/pattern&gt;
      &lt;/providers&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;

  &lt;appender name="logstash-socket" class="net.logstash.logback.appender.LogstashAccessTcpSocketAppender"&gt;
     &lt;destination&gt;${LOGSTASH_DEST}&lt;/destination&gt;
     &lt;secondaryConnectionTTL&gt;5 minutes&lt;/secondaryConnectionTTL&gt;
     &lt;encoder class="net.logstash.logback.encoder.AccessEventCompositeJsonEncoder"&gt;
      &lt;providers&gt;
         &lt;timestamp/&gt;
         &lt;version/&gt;
         &lt;method/&gt;
         &lt;protocol/&gt;
         &lt;statusCode/&gt;
         &lt;requestedUri/&gt;
         &lt;remoteHost/&gt;
         &lt;hostname/&gt;
         &lt;remoteUser/&gt;
         &lt;contentLength/&gt;
         &lt;elapsedTime/&gt;
         &lt;context/&gt;
         &lt;pattern&gt;&lt;pattern&gt;
           {"instance": "${instanceName}",
            "server_name": "%v",
            "forwarded_for": "%header{X-Forwarded-For}",
            "type": "access"}
         &lt;/pattern&gt;&lt;/pattern&gt;
      &lt;/providers&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;

  &lt;appender-ref ref="logstash-socket" /&gt;
  &lt;appender-ref ref="json" /&gt;
&lt;/configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, the logstash configuration.</p>
</div>
<div class="paragraph">
<p>It is quite a simple, however access log events tend to have field names that are incompatible with recent versions of elasticsearch. To work around this problem, they need to be adapted a bit, as shown in the filter below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">input {
  tcp {
    port =&gt; 1065
    codec =&gt; json_lines
  }
}

filter {
  if [type] == "access" {
     mutate {
        rename =&gt; {
          "@fields.HOSTNAME" =&gt; "HOSTNAME"
          "@fields.content_length" =&gt; "content_length"
          "@fields.elapsed_time" =&gt; "elapsed_time"
          "@fields.method" =&gt; "method"
          "@fields.protocol" =&gt; "protocol"
          "@fields.remote_host" =&gt; "remote_host"
          "@fields.remote_user" =&gt; "remote_user"
          "@fields.requested_uri" =&gt; "requested_uri"
          "@fields.status_code" =&gt; "status_code"
        }
     }
     if [forwarded_for] != "-" {
        mutate {
          rename =&gt; {
             "forwarded_for" =&gt; "remote_host"
          }
        }
     }
     mutate {
       remove_field =&gt; ["forwarded_for"]
     }
   }
}

output {
  elasticsearch  {
    hosts =&gt; #....
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adapt_your_application">Adapt your application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Your application also needs small tuning now to prevent various class incompatibility errors.
Both <code>slf4j-api</code>, and <code>logback-classic</code> should now be <em>provided</em> dependencies of your application.
In other words, they should <strong>not</strong> be included in your <em>.war</em> or <em>.ear</em> build.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_downsides">Downsides</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is important to note that <code>asadmin set-log-levels</code> no longer works, as logback is the one filtering the levels.
You will need a different way of controlling log levels with this kind of configuration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_give_feedback">Give feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let us know how this setup works for you in comments on <a href="http://blog.payara.fish/log-directly-to-logstash-from-payara-server">Payara blog</a>.
You&#8217;re also invited to share your projects' <a href="https://github.com/goodees/goodees">goodees</a>!</p>
</div>
</div>
</div>
    </div>

    <div class="post related">

    </div>

    <footer class="post comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname = 'pdudits'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>

  </article>


        <footer>
          <span class="copyright">
            &copy; 2017. All rights reserved. Built with <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> under <a href="http://hubpress.io/" target="_blank">HubPress</a>.
          </span>
        </footer>
      </section>
    </main>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();
      </script>
    <script src="//pdudits.github.io/themes/uno-zen/assets/js/uno-zen.js?v=1512054664164" type="text/javascript" charset="utf-8"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-340613-5', 'auto');
    ga('send', 'pageview');

    </script>
  </body>
</html>
